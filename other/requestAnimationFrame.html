<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        window.onload = function () {
            //setTimeout相比，requestAnimationFrame最大的优势是由系统来决定回调函数的执行时机。具体一点讲，如果屏幕刷新率是60Hz,
            //那么回调函数就每16.7ms被执行一次，如果刷新率是75Hz，那么这个时间间隔就变成了1000/75=13.3ms，
            //换句话说就是，requestAnimationFrame的步伐跟着系统的刷新步伐走。
            //它能保证回调函数在屏幕每一次的刷新间隔中只被执行一次，这样就不会引起丢帧现象，也不会导致动画出现卡顿的问题。
            var progress = 0;
            var box = document.getElementById('box');
            //回调函数
            function render() {     
                box.style.left = progress + 'px';
                progress += 1;
                 //修改图像的位置
                if (progress < 300) {
                    //在动画没有结束前，递归渲染
                    window.requestAnimationFrame(render);
                }
            }
            //第一帧渲染
            window.requestAnimationFrame(render);
        }
    </script>
</head>

<body>
    <div id="box" style="width:100px;height:100px;background:yellowgreen;margin:0 auto;position:absolute;left:0"></div>
</body>

</html>